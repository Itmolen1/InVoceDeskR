<!DOCTYPE html>
<html>


@*@if(Session["CompayID"] == null)
    {
        Response.Redirect("/Login/Index");
    }*@


<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Tell the browser to be responsive to screen width -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="~/assets/images/favicon.png">
    <title>Elegant Admin Template - The Ultimate Multipurpose admin template</title>
    <!-- Custom CSS -->

    <link href="~/assets/node_modules/morrisjs/morris.css" rel="stylesheet">
    <!--Toaster Popup message CSS -->
    <link href="~/assets/node_modules/toast-master/css/jquery.toast.css" rel="stylesheet">
    <!--c3 plugins CSS -->
    <link href="~/assets/node_modules/c3-master/c3.min.css" rel="stylesheet">
    <link href="~/dist/css/style.min.css" rel="stylesheet" />
    <link href="~/assets/node_modules/sweetalert/sweetalert.css" rel="stylesheet" />
    <link href="~/assets/node_modules/toast-master/css/jquery.toast.css" rel="stylesheet">


    <!-- page css -->
    <link href="~/dist/css/pages/floating-label.css" rel="stylesheet">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>



<body class="horizontal-nav skin-megna-dark fixed-layout">
    <!-- ============================================================== -->
    <!-- Preloader - style you can find in spinners.css -->
    <!-- ============================================================== -->
    <div class="preloader">
        <div class="loader">
            <div class="loader__figure"></div>
            <p class="loader__label">Invoice Desk loading...</p>
        </div>
    </div>
    <!-- ============================================================== -->
    <!-- Main wrapper - style you can find in pages.scss -->
    <!-- ============================================================== -->
    <div id="main-wrapper">
        <!-- ============================================================== -->
        <!-- Topbar header - style you can find in pages.scss -->
        <!-- ============================================================== -->
        <header class="topbar">
            <nav class="navbar top-navbar navbar-expand-md navbar-dark">
                <!-- ============================================================== -->
                <!-- Logo -->
                <!-- ============================================================== -->
                <div class="navbar-header">
                    <a class="navbar-brand" href="index-2.html">
                        <!-- Logo icon --><b>
                            <!--You can put here icon as well // <i class="wi wi-sunset"></i> //-->
                            <!-- Dark Logo icon -->
                            <img src="~/assets/images/logo-icon.png" alt="homepage" class="dark-logo" />
                            <!-- Light Logo icon -->
                            <img src="~/assets/images/logo-light-icon.png" alt="homepage" class="light-logo" />
                        </b>
                        <!--End Logo icon -->
                        <!-- Logo text --><span>
                            <!-- dark Logo text -->
                            <img src="~/assets/images/logo-text.png" alt="homepage" class="dark-logo" />
                            <!-- Light Logo text -->
                            <img src="~/assets/images/logo-light-text.png" class="light-logo" alt="homepage" />
                        </span>
                    </a>
                </div>
                <!-- ============================================================== -->
                <!-- End Logo -->
                <!-- ============================================================== -->
                <div class="navbar-collapse">
                    <!-- ============================================================== -->
                    <!-- toggle and nav items -->
                    <!-- ============================================================== -->
                    <ul class="navbar-nav mr-auto">
                        <!-- This is  -->
                        <li class="nav-item d-md-none"> <a class="nav-link nav-toggler waves-effect waves-light" href="javascript:void(0)"><i class="ti-menu"></i></a></li>
                        <!-- ============================================================== -->
                        <!-- Comment -->
                        <!-- ============================================================== -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle waves-effect waves-dark" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="ti-email"></i>
                                <div class="notify"> <span class="heartbit"></span> <span class="point"></span> </div>
                            </a>
                            <div class="dropdown-menu mailbox animated bounceInDown">
                                <span class="with-arrow"><span class="bg-primary"></span></span>
                                <ul>
                                    <li>
                                        <div class="drop-title bg-primary text-white">
                                            <h4 class="m-b-0 m-t-5">4 New</h4>
                                            <span class="font-light">Notifications</span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="message-center">
                                            <!-- Message -->
                                            <a href="javascript:void(0)">
                                                <div class="btn btn-danger btn-circle"><i class="fa fa-link"></i></div>
                                                <div class="mail-contnet">
                                                    <h5>Luanch Admin</h5> <span class="mail-desc">Just see the my new admin!</span> <span class="time">9:30 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)">
                                                <div class="btn btn-success btn-circle"><i class="ti-calendar"></i></div>
                                                <div class="mail-contnet">
                                                    <h5>Event today</h5> <span class="mail-desc">Just a reminder that you have event</span> <span class="time">9:10 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)">
                                                <div class="btn btn-info btn-circle"><i class="ti-settings"></i></div>
                                                <div class="mail-contnet">
                                                    <h5>Settings</h5> <span class="mail-desc">You can customize this template as you want</span> <span class="time">9:08 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)">
                                                <div class="btn btn-primary btn-circle"><i class="ti-user"></i></div>
                                                <div class="mail-contnet">
                                                    <h5>Pavan kumar</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span>
                                                </div>
                                            </a>
                                        </div>
                                    </li>
                                    <li>
                                        <a class="nav-link text-center m-b-5" href="javascript:void(0);"> <strong>Check all notifications</strong> <i class="fa fa-angle-right"></i> </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <!-- ============================================================== -->
                        <!-- End Comment -->
                        <!-- ============================================================== -->
                        <!-- ============================================================== -->
                        <!-- Messages -->
                        <!-- ============================================================== -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle waves-effect waves-dark" href="#" id="2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="icon-note"></i>
                                <div class="notify"> <span class="heartbit"></span> <span class="point"></span> </div>
                            </a>
                            <div class="dropdown-menu mailbox animated bounceInDown" aria-labelledby="2">
                                <span class="with-arrow"><span class="bg-danger"></span></span>
                                <ul>
                                    <li>
                                        <div class="drop-title text-white bg-danger">
                                            <h4 class="m-b-0 m-t-5">5 New</h4>
                                            <span class="font-light">Messages</span>
                                        </div>
                                    </li>
                                    <li>
                                        <div class="message-center">
                                            <!-- Message -->
                                            <a href="javascript:void(0)">
                                                <div class="user-img"> <img src="~/assets/images/users/1.jpg" alt="user" class="img-circle"> <span class="profile-status online pull-right"></span> </div>
                                                <div class="mail-contnet">
                                                    <h5>Pavan kumar</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:30 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)">
                                                <div class="user-img"> <img src="~/assets/images/users/2.jpg" alt="user" class="img-circle"> <span class="profile-status busy pull-right"></span> </div>
                                                <div class="mail-contnet">
                                                    <h5>Sonu Nigam</h5> <span class="mail-desc">I've sung a song! See you at</span> <span class="time">9:10 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)">
                                                <div class="user-img"> <img src="~/assets/images/users/3.jpg" alt="user" class="img-circle"> <span class="profile-status away pull-right"></span> </div>
                                                <div class="mail-contnet">
                                                    <h5>Arijit Sinh</h5> <span class="mail-desc">I am a singer!</span> <span class="time">9:08 AM</span>
                                                </div>
                                            </a>
                                            <!-- Message -->
                                            <a href="javascript:void(0)">
                                                <div class="user-img"> <img src="~/assets/images/users/4.jpg" alt="user" class="img-circle"> <span class="profile-status offline pull-right"></span> </div>
                                                <div class="mail-contnet">
                                                    <h5>Pavan kumar</h5> <span class="mail-desc">Just see the my admin!</span> <span class="time">9:02 AM</span>
                                                </div>
                                            </a>
                                        </div>
                                    </li>
                                    <li>
                                        <a class="nav-link text-center link m-b-5" href="javascript:void(0);"> <b>See all e-Mails</b> <i class="fa fa-angle-right"></i> </a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <!-- ============================================================== -->
                        <!-- End Messages -->
                        <!-- ============================================================== -->
                        <!-- ============================================================== -->
                        <!-- Search -->
                        <!-- ============================================================== -->
                        <li class="nav-item search-box">
                            <a class="nav-link waves-effect waves-dark" href="javascript:void(0)"><i class="ti-search"></i></a>
                            <form class="app-search">
                                <input type="text" class="form-control" placeholder="Search &amp; enter"> <a class="srh-btn"><i class="ti-close"></i></a>
                            </form>
                        </li>
                    </ul>
                    <ul class="navbar-nav my-lg-0">
                        <!-- ============================================================== -->
                        <!-- mega menu -->
                        <!-- ============================================================== -->
                        <li class="nav-item dropdown mega-dropdown">
                            <a class="nav-link dropdown-toggle waves-effect waves-dark" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="ti-layout-width-default"></i></a>
                            <div class="dropdown-menu animated bounceInDown">
                                <ul class="mega-dropdown-menu row">
                                    <li class="col-lg-3 col-xlg-2 m-b-30">
                                        <h4 class="m-b-20">CAROUSEL</h4>
                                        <!-- CAROUSEL -->
                                        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
                                            <div class="carousel-inner" role="listbox">
                                                <div class="carousel-item active">
                                                    <div class="container"> <img class="d-block img-fluid" src="~/assets/images/big/img1.jpg" alt="First slide"></div>
                                                </div>
                                                <div class="carousel-item">
                                                    <div class="container"><img class="d-block img-fluid" src="~/assets/images/big/img2.jpg" alt="Second slide"></div>
                                                </div>
                                                <div class="carousel-item">
                                                    <div class="container"><img class="d-block img-fluid" src="~/assets/images/big/img3.jpg" alt="Third slide"></div>
                                                </div>
                                            </div>
                                            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev"> <span class="carousel-control-prev-icon" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a>
                                            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next"> <span class="carousel-control-next-icon" aria-hidden="true"></span> <span class="sr-only">Next</span> </a>
                                        </div>
                                        <!-- End CAROUSEL -->
                                    </li>
                                    <li class="col-lg-3 m-b-30">
                                        <h4 class="m-b-20">ACCORDION</h4>
                                        <!-- Accordian -->
                                        <div id="accordion" class="nav-accordion" role="tablist" aria-multiselectable="true">
                                            <div class="card">
                                                <div class="card-header" role="tab" id="headingOne">
                                                    <h5 class="mb-0">
                                                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                                            Collapsible Group Item #1
                                                        </a>
                                                    </h5>
                                                </div>
                                                <div id="collapseOne" class="collapse show" role="tabpanel" aria-labelledby="headingOne">
                                                    <div class="card-body"> Anim pariatur cliche reprehenderit, enim eiusmod high. </div>
                                                </div>
                                            </div>
                                            <div class="card">
                                                <div class="card-header" role="tab" id="headingTwo">
                                                    <h5 class="mb-0">
                                                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                            Collapsible Group Item #2
                                                        </a>
                                                    </h5>
                                                </div>
                                                <div id="collapseTwo" class="collapse" role="tabpanel" aria-labelledby="headingTwo">
                                                    <div class="card-body"> Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. </div>
                                                </div>
                                            </div>
                                            <div class="card">
                                                <div class="card-header" role="tab" id="headingThree">
                                                    <h5 class="mb-0">
                                                        <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                            Collapsible Group Item #3
                                                        </a>
                                                    </h5>
                                                </div>
                                                <div id="collapseThree" class="collapse" role="tabpanel" aria-labelledby="headingThree">
                                                    <div class="card-body"> Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. </div>
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                    <li class="col-lg-3  m-b-30">
                                        <h4 class="m-b-20">CONTACT US</h4>
                                        <!-- Contact -->
                                        <form>
                                            <div class="form-group">
                                                <input type="text" class="form-control" id="exampleInputname1" placeholder="Enter Name">
                                            </div>
                                            <div class="form-group">
                                                <input type="email" class="form-control" placeholder="Enter email">
                                            </div>
                                            <div class="form-group">
                                                <textarea class="form-control" id="exampleTextarea" rows="3" placeholder="Message"></textarea>
                                            </div>
                                            <button type="submit" class="btn btn-info">Submit</button>
                                        </form>
                                    </li>
                                    <li class="col-lg-3 col-xlg-4 m-b-30">
                                        <h4 class="m-b-20">List style</h4>
                                        <!-- List style -->
                                        <ul class="list-style-none">
                                            <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> You can give link</a></li>
                                            <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> Give link</a></li>
                                            <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> Another Give link</a></li>
                                            <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> Forth link</a></li>
                                            <li><a href="javascript:void(0)"><i class="fa fa-check text-success"></i> Another fifth link</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </li>
                        <!-- ============================================================== -->
                        <!-- End mega menu -->
                        <!-- ============================================================== -->
                        <!-- ============================================================== -->
                        <!-- User profile and search -->
                        <!-- ============================================================== -->
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle text-muted waves-effect waves-dark" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><img src="~/assets/images/users/1.jpg" alt="user" class="img-circle" width="30"></a>
                            <div class="dropdown-menu dropdown-menu-right user-dd animated flipInY">
                                <span class="with-arrow"><span class="bg-primary"></span></span>
                                <div class="d-flex no-block align-items-center p-15 bg-primary text-white m-b-10">
                                    <div class=""><img src="~/assets/images/users/1.jpg" alt="user" class="img-circle" width="60"></div>
                                    <div class="m-l-10">
                                        <h4 class="m-b-0">Steave Jobs</h4>
                                        <p class="m-b-0">varun@gmail.com</p>
                                    </div>
                                </div>
                                <a class="dropdown-item" href="javascript:void(0)"><i class="ti-user m-r-5 m-l-5"></i> My Profile</a>
                                <a class="dropdown-item" href="javascript:void(0)"><i class="ti-wallet m-r-5 m-l-5"></i> My Balance</a>
                                <a class="dropdown-item" href="javascript:void(0)"><i class="ti-email m-r-5 m-l-5"></i> Inbox</a>
                                <div class="dropdown-divider"></div>
                                <a class="dropdown-item" href="javascript:void(0)"><i class="ti-settings m-r-5 m-l-5"></i> Account Setting</a>
                                <div class="dropdown-divider"></div>
                                @*<a class="dropdown-item"><i href="javascript:void(0)" class="fa fa-power-off" id="Logouts"></i> Logout</a>*@
                                <div class="p-l-30 p-10"><a href="javascript:void(0)" id="Logout" class="btn btn-sm btn-warning  btn-rounded"><i class="fa fa-power-off"></i>        LogOut</a></div>
                                <div class="dropdown-divider"></div>
                                <div class="p-l-30 p-10"><a href="javascript:void(0)" id="Logout1" class="btn btn-sm btn-success  btn-rounded">View Profile</a></div>
                            </div>
                        </li>
                        <!-- ============================================================== -->
                        <!-- User profile and search -->
                        <!-- ============================================================== -->
                        <li class="nav-item right-side-toggle"> <a class="nav-link  waves-effect waves-light" href="javascript:void(0)"><i class="ti-settings"></i></a></li>
                    </ul>
                </div>
            </nav>
        </header>
        <!-- ============================================================== -->
        <!-- End Topbar header -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <aside class="left-sidebar">
            <div class="nav-text-box align-items-center d-md-none">
                <span><img src="~/assets/images/logo-icon.png" alt="elegant admin template"></span>
                <a class="nav-lock waves-effect waves-dark ml-auto hidden-md-down" href="javascript:void(0)"><i class="mdi mdi-toggle-switch"></i></a>
                <a class="nav-toggler waves-effect waves-dark ml-auto hidden-sm-up" href="javascript:void(0)"><i class="ti-close"></i></a>
            </div>
            <!-- Sidebar scroll-->
            <div class="scroll-sidebar">
                <!-- Sidebar navigation-->
                <nav class="sidebar-nav">
                    <ul id="sidebarnav">
                        <li>
                            <a class="has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false"><i class="icon-speedometer"></i><span class="hide-menu">Dashboard <span class="badge badge-pill badge-cyan">4</span></span></a>
                            <ul aria-expanded="false" class="collapse">
                                <li><a href="/Home/Index">Home</a></li>
                            </ul>
                        </li>

                        <li>
                            <a class="has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false"><i class="ti-clipboard"></i><span class="hide-menu">Qutation Invoices</span></a>
                            <ul aria-expanded="false" class="collapse">
                                <li><a href="widget-data.html">All Qutation</a></li>
                                <li><a href="/MVCClient/Index">Create Qutation</a></li>
                                <li><a href="widget-charts.html">Not Paid</a></li>
                            </ul>
                        </li>
                        <li class="nav-small-cap"></li>
                        <li>
                            <a class="has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false"><i class="ti-files"></i><span class="hide-menu">Pages <span class="badge badge-pill badge-info">25</span></span></a>
                            <ul aria-expanded="false" class="collapse">
                                <li><a href="/MVCProduct/Index">Product</a></li>
                                <li><a href="/MVCClient/Index">Clients</a></li>
                                <li><a href="/MVCQutation/Index">Qutation</a></li>

                            </ul>
                        </li>
                        <li>
                            <a class="has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false"><i class="ti-light-bulb"></i><span class="hide-menu">Extras</span></a>
                            <ul aria-expanded="false" class="collapse">

                                <li> <a class="waves-effect waves-dark" href="http://www.wrappixel.com/demos/admin-templates/elegant-admin/documentation/documentation.html" aria-expanded="false"><span class="hide-menu">Documentation</span></a></li>
                                <li> <a class="waves-effect waves-dark" href="pages-login.html" aria-expanded="false"><span class="hide-menu">Log Out</span></a></li>
                                <li> <a class="waves-effect waves-dark" href="pages-faq.html" aria-expanded="false"><span class="hide-menu">FAQs</span></a></li>
                            </ul>
                        </li>
                        <li>
                            <a class="has-arrow waves-effect waves-dark" href="javascript:void(0)" aria-expanded="false"><i class="ti-align-left"></i><span class="hide-menu">Multi dd</span></a>
                            <ul aria-expanded="false" class="collapse">
                                <li><a href="javascript:void(0)">item 1.1</a></li>
                                <li><a href="javascript:void(0)">item 1.2</a></li>
                                <li>
                                    <a class="has-arrow" href="javascript:void(0)" aria-expanded="false">Menu 1.3</a>
                                    <ul aria-expanded="false" class="collapse">
                                        <li><a href="javascript:void(0)">item 1.3.1</a></li>
                                        <li><a href="javascript:void(0)">item 1.3.2</a></li>
                                        <li><a href="javascript:void(0)">item 1.3.3</a></li>
                                        <li><a href="javascript:void(0)">item 1.3.4</a></li>
                                    </ul>
                                </li>
                                <li><a href="javascript:void(0)">item 1.4</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
                <!-- End Sidebar navigation -->
            </div>
            <!-- End Sidebar scroll-->
        </aside>
        <!-- ============================================================== -->
        <!-- End Left Sidebar - style you can find in sidebar.scss  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- Page wrapper  -->
        <!-- ============================================================== -->
        <div class="page-wrapper">
            <!-- ============================================================== -->
            <!-- Container fluid  -->
            <!-- ============================================================== -->
            <div class="container-fluid">
                <!-- ============================================================== -->
                <!-- Bread crumb and right sidebar toggle -->
                <!-- ============================================================== -->
                <div class="row page-titles">
                    <div class="col-md-5 align-self-center">
                        <h4 class="text-themecolor">Home Page</h4>
                    </div>
                    <div class="col-md-7 align-self-center text-right">
                        <div class="d-flex justify-content-end align-items-center">
                            <ol class="breadcrumb">
                                <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
                                <li class="breadcrumb-item active">Index</li>
                            </ol>
                            @*<button type="button" class="btn btn-success d-none d-lg-block m-l-15"><i class="fa fa-plus-circle"></i> Create New</button>*@
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End Bread crumb and right sidebar toggle -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Start Page Content -->
                <!-- ============================================================== -->
                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-body">
                                <div body-content">
                                    @RenderBody()

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End PAge Content -->
                <!-- ============================================================== -->
                <!-- ============================================================== -->
                <!-- Right sidebar -->
                <!-- ============================================================== -->
                <!-- .right-sidebar -->
                <div class="right-sidebar">
                    <div class="slimscrollright">
                        <div class="rpanel-title"> Service Panel <span><i class="ti-close right-side-toggle"></i></span> </div>
                        <div class="r-panel-body">
                            <ul id="themecolors" class="m-t-20">
                                <li><b>With Light sidebar</b></li>
                                <li><a href="javascript:void(0)" data-skin="skin-default" class="default-theme">1</a></li>
                                <li><a href="javascript:void(0)" data-skin="skin-green" class="green-theme">2</a></li>
                                <li><a href="javascript:void(0)" data-skin="skin-red" class="red-theme">3</a></li>
                                <li><a href="javascript:void(0)" data-skin="skin-blue" class="blue-theme">4</a></li>
                                <li><a href="javascript:void(0)" data-skin="skin-purple" class="purple-theme">5</a></li>
                                <li><a href="javascript:void(0)" data-skin="skin-megna" class="megna-theme">6</a></li>
                                <li class="d-block m-t-30"><b>With Dark sidebar</b></li>
                                <li><a href="javascript:void(0)" data-skin="skin-default-dark" class="default-dark-theme">7</a></li>
                                <li><a href="javascript:void(0)" data-skin="skin-green-dark" class="green-dark-theme">8</a></li>
                                <li><a href="javascript:void(0)" data-skin="skin-red-dark" class="red-dark-theme">9</a></li>
                                <li><a href="javascript:void(0)" data-skin="skin-blue-dark" class="blue-dark-theme">10</a></li>
                                <li><a href="javascript:void(0)" data-skin="skin-purple-dark" class="purple-dark-theme">11</a></li>
                                <li><a href="javascript:void(0)" data-skin="skin-megna-dark" class="megna-dark-theme working">12</a></li>
                            </ul>
                            <ul class="m-t-20 chatonline">
                                <li><b>Chat option</b></li>
                                <li>
                                    <a href="javascript:void(0)"><img src="~/assets/images/users/1.jpg" alt="user-img" class="img-circle"> <span>Varun Dhavan <small class="text-success">online</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="~/assets/images/users/2.jpg" alt="user-img" class="img-circle"> <span>Genelia Deshmukh <small class="text-warning">Away</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="~/assets/images/users/3.jpg" alt="user-img" class="img-circle"> <span>Ritesh Deshmukh <small class="text-danger">Busy</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="~/assets/images/users/4.jpg" alt="user-img" class="img-circle"> <span>Arijit Sinh <small class="text-muted">Offline</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="~/assets/images/users/5.jpg" alt="user-img" class="img-circle"> <span>Govinda Star <small class="text-success">online</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="~/assets/images/users/6.jpg" alt="user-img" class="img-circle"> <span>John Abraham<small class="text-success">online</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="~/assets/images/users/7.jpg" alt="user-img" class="img-circle"> <span>Hritik Roshan<small class="text-success">online</small></span></a>
                                </li>
                                <li>
                                    <a href="javascript:void(0)"><img src="~/assets/images/users/8.jpg" alt="user-img" class="img-circle"> <span>Pwandeep rajan <small class="text-success">online</small></span></a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <!-- ============================================================== -->
                <!-- End Right sidebar -->
                <!-- ============================================================== -->
            </div>
            <!-- ============================================================== -->
            <!-- End Container fluid  -->
            <!-- ============================================================== -->
        </div>
        <!-- ============================================================== -->
        <!-- End Page wrapper  -->
        <!-- ============================================================== -->
        <!-- ============================================================== -->
        <!-- footer -->
        <!-- ============================================================== -->


        <footer class="footer">
            © 2018 invoice Disk
        </footer>
        <!-- ============================================================== -->
        <!-- End footer -->
        <!-- ============================================================== -->
    </div>
    <!-- ============================================================== -->
    <!-- End Wrapper -->
    <!-- ============================================================== -->
    <!-- ============================================================== -->
    <!-- All Jquery -->
    <!-- ============================================================== -->
    <script src="~/assets/node_modules/jquery/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap tether Core JavaScript -->
    <script src="~/assets/node_modules/popper/popper.min.js"></script>
    <script src="~/assets/node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <!-- slimscrollbar scrollbar JavaScript -->
    <script src="~/dist/js/perfect-scrollbar.jquery.min.js"></script>
    <!--Wave Effects -->
    <script src="~/dist/js/waves.js"></script>
    <!--Menu sidebar -->
    <script src="~/dist/js/sidebarmenu.js"></script>
    <!--stickey kit -->
    <script src="~/assets/node_modules/sticky-kit-master/dist/sticky-kit.min.js"></script>
    <script src="~/assets/node_modules/sparkline/jquery.sparkline.min.js"></script>
    <!--Custom JavaScript -->

    <script src="~/dist/js/custom.min.js"></script>
    <script src="~/dist/js/pages/jasny-bootstrap.js"></script>
    <script src="~/assets/node_modules/datatables/jquery.dataTables.min.js"></script>
    <script src="~/assets/node_modules/datatables/dataTables.bootstrap.js"></script>
    <script src="~/assets/node_modules/sweetalert/jquery.sweet-alert.custom.js"></script>
    <script src="~/assets/node_modules/sweetalert/sweetalert.min.js"></script>
    <script src="~/assets/node_modules/toast-master/js/jquery.toast.js"></script>


    @RenderSection("scripts", required: false)
</body>
</html>

@*Custome Scripts loading here*@



<script>
    $(window).ready(function () {

        if (sessionStorage.getItem('accessToken') == null) {
            window.location.href = "/Login/Index"
        }

    });


    @*$(window).load(function () {
        if (sessionStorage.getItem('accessToken') == null || '@Session["CompayID"]' == null) {
            window.location.href = "/Login/Index";
        }
    });*@


</script>

<script>
    $(document).ready(function () {

        $("#ContactListTable").DataTable({
            //"processing": true, // for show progress bar
            processing: true,
            "language": {
                "processing": $('#loaderMvcConatc').append("<img src='../images/XtaS.gif' width='100px' height='60px' />"),  //add a loading image,simply putting tag.
            },
            searching: true,
            "serverSide": true, // for process server side
            "filter": false, // this is for disable filter (search box)
            "orderMulti": false, // for disable multiple column at once
            "ajax": {
                "url": "/MVCClient/GetContactList",
                "type": "POST",
                "datatype": "json"
            },
            "columns": [
                    { "data": "ContactsId", "name": "ContactsId", "autoWidth": true },
                    { "data": "ContactName", "name": "ContactName", "autoWidth": true },
                    { "data": "ContactAddress", "name": "ContactAddress", "autoWidth": true },
                    { "data": "Type", "name": "Type", "autoWidth": true },
                    { "data": "BillingPersonName", "name": "BillingPersonName", "autoWidth": true },
                    { "data": "BillingCompanyName", "name": "BillingCompanyName", "autoWidth": true },
                    { "data": "BillingVatTRN", "name": "BillingVatTRN", "autoWidth": true },
                    { "data": "Status", "name": "Status", "autoWidth": true },
                    {
                        render: function (data, type, row) {
                            return '<button type="button" href="" class="btn btn-info btn-xs" data-id="Id" onclick="EditContact(' + row.ContactsId + ')"><i class="fa fa-pencil"></i></button>|<button type="button" class="btn btn-danger btn-sm" onclick="DeleteCompany(' + row.ContactsId + ')"><i class="fa fa-trash"></i></button>|<button type="button" class="btn btn-success btn-xs" onclick="Delete(' + row.ContactsId + ')"><i class="fa fa-eye"></i></button>'
                        }
                    }


            ]

        });



    });
</script>

<script>
    $(document).ready(function () {

        $('#btn-QutationNew').click(function () {

            LoadContacts();
            $('#QutationContactModel').modal('show');
        });

        $('#SelectContacts1').change(function () {

            var value = $(this).val();
            if (value == "AddNewClientSelect") {

                $('#QutationContactModel').modal('hide');
                $('#AddNewContactModel').modal('show');

            }

        });


        $('#SelectProductQutation').change(function () {

            var value = $(this).val();
            if (value == "AddNewProductSelect") {

                $('#CreateNewProductModalAdd').modal('show');

            }

        });



        $('#QutationClientNext').click(function () {

            var value = $('#SelectContacts1').val();

            if (value > 0) {
                $.ajax({
                    url: '/MVCClient/AddOrEdit',
                    type: 'GET',
                    data: {
                        id: value
                    },
                    success: function (data) {
                        window.location.href = "/MVCQutation/AddOrEdit"
                    },
                    error: function () {
                        alert("error");
                    }
                });
            }
            else {
                $.toast({
                    heading: 'Information',
                    text: 'Please select client to continue',
                    icon: 'info',
                    loader: true,        // Change it to false to disable loader
                    loaderBg: '#9EC600'  // To change the background
                })
            }
        });

        $('#SaveClinetQutation').click(function () {
            $.ajax({
                url: '/MVCClient/AddOrEdit',
                type: 'POST',
                data: {
                    ContactName: $('#ContactName').val(),
                    ContactAddress: $('#ContactAddress').val(),
                    Type: "Customer"
                },
                success: function (data) {
                    $('#AddNewContactModel').modal('hide');
                    LoadContacts();
                    $('#QutationContactModel').modal('show');
                },
                error: function () {
                    alert("error");
                }
            });


        });
    });
</script>

<script>
    var currentRow1 = "";
    var r = "";
    $(document).ready(function () {

        function myFunction() {
            document.getElementById('CurrentDate').value = Date();
        }

        $(document).on('change', '#orderdetailsitems .VAT', function () {
            currentRow1 = $(this).closest("tr");
            calculatevat();
            SUMOFALLPRODUCT();
            sumofGrandModel();


        });

        LoadProduct();

        $("#add").click(function () {

            currentRow1 = $(this).closest("tr");

            var isAllValid = true;
            if ($("#SelectProductQutation").val() == "0") {
                isAllValid = false;
                alert("Please select Item");
            }

            if (isAllValid) {
                var $newRow = $("#mainrow").clone().removeAttr('id');
                $('.product', $newRow).val($("#SelectProductQutation").val());
                $('.VAT', $newRow).val($("#SelectVAT").val());

                //Replace add button with remove button
                $("#add", $newRow).addClass('remove').val('Remove').removeClass('btn-success').addClass('btn-danger');

                //Remove id attribute from new clone row

                $("#SelectProductQutation,#Quantity,#Rate,#FTotal,#SelectVAT", $newRow).removeAttr('id');

                $('span.error', $newRow).remove();

                $('#orderdetailsitems').append($newRow);

                $('#SelectProductQutation').val('0');
                $('#Quantity').val('');
                $('#Rate').val('');
                $('#FTotal').val('');

                if ($('#orderItemError').text != '') {
                    $('#orderItemError').text('');
                }

                calculatevat();
                SUMOFALLPRODUCT();
                sumofGrandModel();

            }
        });



        function calculatevat() {
            if ($('#orderdetailsitems tr').length == 0) {
                $('#btwo').text('0.00');
                $('#BTW6').text('0.00');
                $('#BTW21').text('0.00');
            }
            else {

                var sum0 = 0;
                var total0 = 0;
                $('#orderdetailsitems tr').each(function () {
                    $('#BTW0').text();

                    r = $(this).closest('tr');
                    var value = r.find('.VAT  option:selected').val();
                    if (r.find('.VAT  option:selected').val() == 0) {
                        total0 = r.find('td:eq(3)').find('input').val();
                        if (!isNaN(total0) && total0.length != 0) {
                            sum0 += parseInt(total0);
                        }
                        var totalvat0 = parseFloat(sum0 / 100 * 6 + sum0 - sum0);
                        var totalr = Math.round(totalvat0, 2);
                        $('#BTW0').text(totalvat0.toFixed(2));
                    }
                    else {
                        $('#BTW0').text('0.00');
                    }
                })
            }

            var sum6 = 0;
            var total6 = 0;
            $('#orderdetailsitems tr').each(function () {
                var r = $(this).closest('tr');
                var value = r.find('.VAT  option:selected').val();
                if (r.find('.VAT  option:selected').val() == 6) {
                    total6 = r.find('td:eq(3)').find('input').val();
                    if (!isNaN(total6) && total6.length != 0) {
                        sum6 += parseInt(total6);
                    }
                    var totalvat6 = parseFloat(sum6 / 100 * 6 + sum6 - sum6);
                    var totalr = Math.round(totalvat6, 2);
                    $('#BTW6').text(totalvat6.toFixed(2));
                }
            })

            var sum21 = 0;
            var total21 = 0;
            $('#orderdetailsitems tr').each(function () {
                //$('#BTW21').text();
                var r = $(this).closest('tr');
                var value = r.find('.VAT  option:selected').val();
                if (r.find('.VAT  option:selected').val() == 21) {

                    total21 = r.find('td:eq(3)').find('input').val();
                    if (!isNaN(total21) && total21.length != 0) {
                        sum21 += parseInt(total21);
                    }
                    var totalvat21 = parseFloat(sum21 / 100 * 21 + sum21 - sum21);

                    $('#BTW21').text(totalvat21);
                }

            })
            RowCounte();
        }
        $(document).ready(function () {

            $(document).on('click', '#RemoveEdit', function () {
                var row = $(this).closest('tr');

                var QIDId = row.find('td').find('.QutationDetailId').val();
                var total1 = row.find('td').find('.FTotal').val();
                var vat = row.find('td').find('.VAT').val();
                var QID = row.find('td').find('.QutationID').val();

                var data = JSON.stringify({
                    QutationId: QID,
                    QutationDetailID: QIDId,
                    vat: vat,
                    total: total1
                })
                $.ajax({
                    url: "/MVCQutation/DeleteQuatation",
                    type: "POST",
                    async: false,
                    contentType: "application/json;charset=utf-8",
                    dataType: "json",
                    data: data,
                    success: function (data) {
                        if (data.Status == "Success") {
                            swal({
                                title: 'Qutation!',
                                text: 'Qutation save successfully!',
                                type: 'success'
                            });


                            $("#" + QIDId).remove();
                            calculatevat();
                            SUMOFALLPRODUCT();
                            sumofGrandModel();
                        }
                        else if (data.Status == "Fail") {

                            swal({
                                title: 'Qutation!',
                                text: 'fail to remove qutation!',
                                type: 'danger'
                            });

                        }
                    },
                    Error: function (errormessage) {
                        alert(errormessage);
                    }

                });
            });
        });

        //SUMOFALLPRODUCT();
        /// sumofGrandModel();

        function RowCounte() {

            var rowCount6 = 0;
            var rowCount21 = 0;
            var rowCount0 = 0;

            $('#orderdetailsitems tr td').each(function () {


                var EquationResult = $(this).find('.VAT').val();

                if (EquationResult == 6) {
                    rowCount6++;

                }
                else if (EquationResult == 21) {
                    rowCount21++;
                }
                else if (EquationResult == 0) {
                    rowCount0++
                }
            })

            if (rowCount0 == 0) {
                $("#btwo").text('0.00');
            }
            if (rowCount6 == 0) {
                $("#BTW6").text('0.00');
            }
            if (rowCount21 == 0) {
                $("#BTW21").text('0.00');
            }

            if ($('#orderdetailsitems tr').length == 0) {

                $('#SubTotal').text();
                $('#TotalBTW').text();
                $('#gtotal').text();
            }
        }

        $('#orderdetailsitems').on('click', '.remove', function () {

            var currentRow = $(this).closest('tr');
            var vat = currentRow.find('.VAT  option:selected').val();
            var Total = currentRow.find('.FTotal').val();
            if (vat == 6) {
                var totalvat6 = parseInt(Total / 100) * 6 + (Total - Total);

                var BTW6 = $('#BTW6').text();
                $('#BTW6').text();
                $('#BTW6').text(parseInt(BTW6 - totalvat6));

            }
            if (vat == 21) {
                var currentRow = $(this).closest('tr');
                var vat21 = currentRow.find('.VAT  option:selected').val();
                var Total21 = currentRow.find('.FTotal').val();
                if (vat == 21) {
                    var totalvat21 = parseFloat(Total21 / 100) * 21 + (Total21 - Total21);

                    var BTW21 = $('#BTW21').text();
                    $('#BTW21').text();
                    $('#BTW21').text(parseFloat(BTW21 - totalvat21));

                }
            }
            $(this).parents('tr').remove();
            SUMOFALLPRODUCT();
            sumofGrandModel();
            //reset all totals
            if ($('#orderdetailsitems tr').length == 0) {
                $('#SubTotal').text('');
                $('#TotalBTW').text('');
                $('#gtotal').text('');
                $('#BTW6').text('');
                $('#BTW21').text('');
                $('#btwo').text('');
            }
        });

        $("#Submit").click(function () {

            debugger;

            var con = validateQutationAddOrEdit();
            if (con == true) {

                var isAllValid = true;
                $('#orderItemError').text('');

                var list = [];
                var errorItemCount = 0;



                //$("#orderdetailsitems > .tbody  > tr:not(:first)')").each(function (index, ele) {
                //    alert('');
                $('#orderdetailsitems > .tbody  > tr:not(:first)').each(function (index, ele) {

                    if ($('#SelectProductQutation', this).val() == '0' ||
                        (parseInt($('.quantity', this).val()) || 0) == 0 ||
                        $('.rate', this).val() == "" ||
                        isNaN($('.rate', this).val())
                        ) {
                        errorItemCount++;
                        $(this).addClass('error');
                    }
                    else {
                        var orderItem = {
                            ItemId: $('select.product', this).val(),
                            Quantity: parseInt($('.quantity', this).val()),
                            Rate: parseFloat($('.rate', this).val()),
                            TotalAmount: parseFloat($('.FTotal', this).val()),
                            Total: parseFloat($('.FTotal', this).val()),
                            Vat: parseFloat($('.VAT', this).val())
                        }
                        list.push(orderItem);
                    }
                });

                if (errorItemCount > 0) {
                    $("#orderItemError").text(errorItemCount + "Invalid entry in order itme list.");
                    isAllValid = false;
                }

                if (list.length == 0) {

                    $("#orderItemError").text("At least one order item required.");
                    isAllValid = false;
                }

                if (isAllValid) {
                    $(this).val("please wait...");
                    var empObj = {
                        Qutation_ID: $('#Qutation_ID').val(),
                        RefNumber: $('#RefNumber').val(),
                        QutationDate: $('#QutationDate').val(),
                        DueDate: $('#DueDate').val(),
                        SubTotal: $('#SubTotal').text(),
                        DiscountAmount: $('#DiscountAmount').val(),
                        Vat: $('#Vat').val(),
                        Total: $('#gtotal').text(),
                        CustomerNote: $('#CustomerNote').val(),
                        TotalVat6: $('#BTW6').text(),
                        TotalVat21: $('#BTW21').text(),
                        ConatctId: $('#contactId').val(),
                        QutationDetailslist: list

                    };
                    $.ajax({
                        url: "/MVCQutation/Save",
                        data: JSON.stringify(empObj),
                        type: "POST",
                        contentType: "application/json;charset=utf-8",
                        dataType: "json",
                        success: function (result) {

                            console.log(result);

                            if (result.Status == "Success") {


                                list = [];
                                $('#Qutation_ID,#RefNumber,#SubTotal,#DiscountAmount,#Vat,#TotalAmount,#CustomerNote').val('');
                                $('#orderdetailsitems').empty();
                                $("#Submit").val('Save');

                                swal({
                                    title: 'Qutation!',
                                    text: 'Qutation save successfully!',
                                    type: 'success'
                                },
                          function (isconform) {
                              window.location.href = "/MvcQutation/ViewQuation?quautionId=" + result.QutationId;
                          });
                            }

                            else if (result.Status == "Fail") {
                                $("#Submit").val('Save');
                                swal(
                                     'Qutation!',
                                       result.message,
                                     'danger'
                                )
                            }

                        },
                        error: function (errormessage) {
                            $("#Submit").val('Save');
                            swal(
                                     'Qutation!',
                                       errormessage.responseText,
                                     'danger'
                                )


                        }

                    });

                }
            }
        });

        //Edit functionality
        $("#SubmitEdit").click(function () {
            var isAllValid = true;
            $('#orderItemError').text('');
            var list = [];
            var errorItemCount = 0;
            $('#orderdetailsitems .tbody').children('tr:not(:first)').each(function (index, ele) {
                {
                    var orderItem = {
                        ItemId: $('.product ', this).val(),
                        Quantity: parseInt($('.quantity', this).val()),
                        Rate: parseFloat($('.rate', this).val()),
                        TotalAmount: parseFloat($('.FTotal', this).val()),
                        Total: parseFloat($('.FTotal', this).val()),
                        Vat: parseFloat($('.VAT', this).val()),
                        QutationID: $('#QutationID').val(),
                        QutationDetailId: parseInt($('.QutationDetailId', this).val()),
                        Qutation_ID: $('#Qutation_ID').val()
                    }
                    list.push(orderItem);
                }
            });
            if (list.length == 0) {

                $("#orderItemError").text("At least one order item required.");
                isAllValid = false;
            }

            if (isAllValid) {
                $(this).val("please wait...");
                var empObj = {
                    Qutation_ID: $('#Qutation_ID').val(),
                    RefNumber: $('#RefNumber').val(),
                    QutationDate: $('#QutationDate').val(),
                    DueDate: $('#DueDate').val(),
                    SubTotal: $('#SubTotal').text(),
                    DiscountAmount: $('#DiscountAmount').val(),
                    QutationID: $('#QutationID').val(),
                    TotalVat6: $('#BTW6').text(),
                    TotalVat21: $('#BTW21').text(),
                    Total: $('#gtotal').text(),
                    TotalAmount: $('#gtotal').text(),
                    ConatctId: $('#contactId').val(),
                    CustomerNote: $('#CustomerNote').val(),
                    QutationDetailslist: list
                };
                $.ajax({
                    url: "/MVCQutation/AddOrEdit",
                    data: JSON.stringify(empObj),
                    type: "POST",
                    contentType: "application/json;charset=utf-8",
                    dataType: "json",
                    success: function (result) {
                        if (result.Status == "Success") {
                            list = [];
                            $('#Qutation_ID,#RefNumber,#SubTotal,#DiscountAmount,#Vat,#TotalAmount,#CustomerNote').val('');
                            $('#orderdetailsitems').empty();
                            $("#SubmitEdit").val('Save Draft');
                            window.location.href = "/MvcQutation/ViewQuation?quautionId=" + result.QutationId;
                        }
                        else if (result.Status == "Fail") {
                            //alert(result.messa)
                        }


                    },
                    error: function (errormessage) {
                        alert(errormessage.responseText);
                    }
                });
            }
        });
    });



    /// save ptint and send it to your self
    $('#saveprintandsendtoyourself').click(function () {
        var QutationIdd;
        var isAllValid = true;
        $('#orderItemError').text('');
        var list = [];
        var errorItemCount = 0;
        $('#orderdetailsitems .tbody').children('tr:not(:first)').each(function (index, ele) {
            {
                var orderItem = {
                    ItemId: $('.product ', this).val(),
                    Quantity: parseInt($('.quantity', this).val()),
                    Rate: parseFloat($('.rate', this).val()),
                    TotalAmount: parseFloat($('.FTotal', this).val()),
                    Total: parseFloat($('.FTotal', this).val()),
                    Vat: parseFloat($('.VAT', this).val()),
                    QutationID: $('#QutationID').val(),
                    QutationDetailId: parseInt($('.QutationDetailId', this).val()),
                    Qutation_ID: $('#Qutation_ID').val()
                }
                list.push(orderItem);
            }
        });

        if (list.length == 0) {

            $("#orderItemError").text("At least one order item required.");
            isAllValid = false;
        }

        if (isAllValid) {
            $(this).val("please wait...");
            var empObj = {
                Qutation_ID: $('#Qutation_ID').val(),
                RefNumber: $('#RefNumber').val(),
                QutationDate: $('#QutationDate').val(),
                DueDate: $('#DueDate').val(),
                SubTotal: $('#SubTotal').text(),
                DiscountAmount: $('#DiscountAmount').val(),
                QutationID: $('#QutationID').val(),
                TotalVat6: $('#BTW6').text(),
                TotalVat21: $('#BTW21').text(),
                Total: $('#gtotal').text(),
                TotalAmount: $('#gtotal').text(),
                ConatctId: $('#contactId').val(),
                CustomerNote: $('#CustomerNote').val(),
                QutationDetailslist: list
            };
            $.ajax({
                url: "/MVCQutation/savePrintAndSentItToYourSenf",
                data: JSON.stringify(empObj),
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (result) {
                    QutationIdd = result.QutationId;
                    localStorage.setItem('path', result.path);
                    if (result.Status == "Success") {

                        swal({
                            title: 'Qutation!',
                            text: 'Qutation save successfully!',
                            type: 'success'
                        },
                        function (isconform) {
                            window.location.href = "/MvcQutation/ViewQuation?quautionId=" + result.QutationId;
                        });
                    }
                    else if (result.Status == "Fail") {
                        alert("Fail to Process")
                    }
                },

                error: function (errormessage) {

                }

            });
        }

    });

    function DownloadFile(filepath) {
        debugger;
        $.ajax({
            url: "/MVCQutation/DownloadFile",
            data: JSON.stringify({ FilePath: filepath }),
            type: "POST",
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (result) {

            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }

        });
    }

    $("#saveEmail").click(function () {

        var isAllValid = true;
        $('#orderItemError').text('');
        var list = [];
        var errorItemCount = 0;
        $('#orderdetailsitems tr').each(function (index, ele) {
            {
                var orderItem = {
                    ItemId: $('.product ', this).val(),
                    Quantity: parseInt($('.quantity', this).val()),
                    Rate: parseFloat($('.rate', this).val()),
                    TotalAmount: parseFloat($('.FTotal', this).val()),
                    Total: parseFloat($('.FTotal', this).val()),
                    Vat: parseFloat($('.VAT', this).val()),
                    QutationID: $('#QutationID').val(),
                    QutationDetailId: parseInt($('.QutationDetailId', this).val()),
                    Qutation_ID: $('#Qutation_ID').val()
                }
                list.push(orderItem);
            }
        });

        if (list.length == 0) {

            $("#orderItemError").text("At least one order item required.");
            isAllValid = false;
        }

        if (isAllValid) {
            $(this).val("please wait...");
            var empObj = {
                Qutation_ID: $('#Qutation_ID').val(),
                RefNumber: $('#RefNumber').val(),
                QutationDate: $('#QutationDate').val(),
                DueDate: $('#DueDate').val(),
                SubTotal: $('#SubTotal').text(),
                DiscountAmount: $('#DiscountAmount').val(),
                QutationID: $('#QutationID').val(),
                TotalVat6: $('#BTW6').text(),
                TotalVat21: $('#BTW21').text(),
                Total: $('#gtotal').text(),
                TotalAmount: $('#gtotal').text(),
                CustomerNote: $('#CustomerNote').val(),
                ConatctId: $('#contactId').val(),
                QutationDetailslist: list
            };
            $.ajax({
                url: "/MVCQutation/SaveEmailAdd",
                data: JSON.stringify(empObj),
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (result) {

                    if (result.Status == "Success") {
                        swal({
                            title: 'Qutation!',
                            text: 'Qutation save successfully!',
                            type: 'success'
                        },
                        function (isconform) {
                            window.location.href = "/MvcQutation/InvoiceByEmail?QutationId=" + result.QutationId;
                        });

                    }
                    else if (result.Status == "Fail") {



                    }

                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                }

            });

        }

    });

    $("#saveEmailedit").click(function () {
        var isAllValid = true;
        $('#orderItemError').text('');
        var list = [];
        var errorItemCount = 0;
        $('#orderdetailsitems .tbody').children('tr:not(:first)').each(function (index, ele) {
            {


                var orderItem = {
                    ItemId: $('.product ', this).val(),
                    Quantity: parseInt($('.quantity', this).val()),
                    Rate: parseFloat($('.rate', this).val()),
                    TotalAmount: parseFloat($('.FTotal', this).val()),
                    Total: parseFloat($('.FTotal', this).val()),
                    Vat: parseFloat($('.VAT', this).val()),
                    QutationID: $('#QutationID').val(),
                    QutationDetailId: parseInt($('.QutationDetailId', this).val()),
                    Qutation_ID: $('#Qutation_ID').val()
                }
                list.push(orderItem);
            }
        });

        if (list.length == 0) {

            $("#orderItemError").text("At least one order item required.");
            isAllValid = false;
        }

        if (isAllValid) {
            $(this).val("please wait...");
            var empObj = {
                Qutation_ID: $('#Qutation_ID').val(),
                RefNumber: $('#RefNumber').val(),
                QutationDate: $('#QutationDate').val(),
                DueDate: $('#DueDate').val(),
                SubTotal: $('#SubTotal').text(),
                DiscountAmount: $('#DiscountAmount').val(),
                QutationID: $('#QutationID').val(),
                TotalVat6: $('#BTW6').text(),
                TotalVat21: $('#BTW21').text(),
                Total: $('#gtotal').text(),
                TotalAmount: $('#gtotal').text(),
                CustomerNote: $('#CustomerNote').val(),
                ConatctId: $('#contactId').val(),
                QutationDetailslist: list
            };
            $.ajax({
                url: "/MVCQutation/SaveEmail",
                data: JSON.stringify(empObj),
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (result) {
                    if (result.Status == "Success") {

                        window.location.href = "/MvcQutation/InvoiceByEmail?QutationId=" + result.QutationId;
                    }
                    else if (result.Status == "Fail") {
                        alert(result.Message);

                    }
                    // $("#genratePdf").submit();
                    list = [];
                    //$('#Qutation_ID,#RefNumber,#SubTotal,#DiscountAmount,#Vat,#TotalAmount,#CustomerNote').val('');
                    //$('#orderdetailsitems').empty();
                    //$("#SubmitEdit").val('Save Draft');
                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                }

            });

        }

    });

    $('#saveprintandsendtoyourselfsave').click(function () {
        debugger;
        var QutationIdd;
        var isAllValid = true;
        $('#orderItemError').text('');
        var list = [];
        var errorItemCount = 0;
        $('#orderdetailsitems .tbody').children('tr:not(:first)').each(function (index, ele) {
            {

                var orderItem = {
                    ItemId: $('.product ', this).val(),
                    Quantity: parseInt($('.quantity', this).val()),
                    Rate: parseFloat($('.rate', this).val()),
                    TotalAmount: parseFloat($('.FTotal', this).val()),
                    Total: parseFloat($('.FTotal', this).val()),
                    Vat: parseFloat($('.VAT', this).val()),
                    QutationID: $('#QutationID').val(),
                    QutationDetailId: parseInt($('.QutationDetailId', this).val()),
                    Qutation_ID: $('#Qutation_ID').val()
                }
                list.push(orderItem);
            }
        });

        if (list.length == 0) {

            $("#orderItemError").text("At least one order item required.");
            isAllValid = false;
        }

        if (isAllValid) {
            $(this).val("please wait...");
            var empObj = {
                Qutation_ID: $('#Qutation_ID').val(),
                RefNumber: $('#RefNumber').val(),
                QutationDate: $('#QutationDate').val(),
                DueDate: $('#DueDate').val(),
                SubTotal: $('#SubTotal').text(),
                DiscountAmount: $('#DiscountAmount').val(),
                QutationID: $('#QutationID').val(),
                TotalVat6: $('#BTW6').text(),
                TotalVat21: $('#BTW21').text(),
                Total: $('#gtotal').text(),
                TotalAmount: $('#gtotal').text(),
                CustomerNote: $('#CustomerNote').val(),
                ConatctId: $('#contactId').val(),
                QutationDetailslist: list
            };
            $.ajax({
                url: "/MVCQutation/savePrintAndSentItToYouronsave",
                data: JSON.stringify(empObj),
                type: "POST",
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (result) {
                    QutationIdd = result.QutationId;
                    localStorage.setItem('path', result.path);
                    if (result.Status == "Success") {
                        swal({
                            title: 'Qutation!',
                            text: 'Qutation save successfully!',
                            type: 'success'
                        },
                        function (isconform) {
                            window.location.href = "/MvcQutation/ViewQuation?quautionId=" + result.QutationId;
                        });
                    }
                    else if (result.Status == "Fail") {

                    }
                },

                error: function (errormessage) {

                }

            });
        }

    });

    function LoadProduct() {

        if ($('#SelectProductQutation').has('option').length > 0) {
            return;
        }
        else {
            $("#SelectProductQutation").find("option").remove();
            $("#SelectProductQutation").prepend("<option value=0>" + 'Select Item' + "</option>");
            $("#SelectProductQutation").append("<option value=AddNewProductSelect>" + 'Add New Product' + "</option>");

            $.ajax({
                url: "/MVCProduct/GetProduct",
                type: "Get",
                async: false,
                contentType: "application/json;charset=utf-8",
                dataType: "json",
                success: function (data) {

                    $.each(data, function (key, item) {

                        $('#SelectProductQutation').append($('<option></option>').val(item.ProductId).html(item.ProductName));

                    });

                },
                Error: function (errormessage) {
                    alert(errormessage);
                }

            });
        }



    }


    function LoadProductAdding() {

        $("#SelectProductQutation").find("option").remove();
        $("#SelectProductQutation").prepend("<option value=0>" + 'Select Item' + "</option>");
        $("#SelectProductQutation").append("<option value=AddNewProductSelect>" + 'Add New Product' + "</option>");

        $.ajax({
            url: "/MVCProduct/GetProduct",
            type: "Get",
            async: false,
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (data) {

                $.each(data, function (key, item) {

                    $('#SelectProductQutation').append($('<option></option>').val(item.ProductId).html(item.ProductName));

                });

            },
            Error: function (errormessage) {
                alert(errormessage);
            }

        });
    }

    $('#Rate').keyup(function () {
        currentRow1 = $(this).closest("tr");
        var currentRow = $(this).closest("tr");
        var quantity = currentRow.find("td:eq(1)").find('input').val(); // get current row 1st TD value
        var Price = $(this).val();
        var total = quantity * Price;
        currentRow.find('td:eq(3)').find('input').val(total);
        var sum = 0;
        var vatValue = currentRow1.find('#SelectVAT option:selected').val();
        if (vatValue == 0) {
            $('#btwo').text('0.00');
        }

        if (vatValue == 6) {
            var sum6 = 0;
            var total6 = 0;
            $('#orderdetailsitems tr').each(function () {
                r = $(this).closest('tr');
                var value = r.find('.VAT  option:selected').val();
                if (r.find('.VAT  option:selected').val() == 6) {
                    total6 = r.find('td:eq(3)').find('input').val();
                    if (!isNaN(total6) && total6.length != 0) {
                        sum6 += parseFloat(total6);
                    }
                    var totalvat6 = parseFloat(sum6 / 100 * 6 + sum6 - sum6);
                    $('#BTW6').text(totalvat6.toFixed(2));
                }
            })


        }

        if (vatValue == 21) {
            var sum21 = 0;
            var total21 = 0;
            $('#orderdetailsitems tr').each(function () {
                r = $(this).closest('tr');
                var value = r.find('.VAT  option:selected').val();
                if (r.find('.VAT  option:selected').val() == 21) {
                    total21 = r.find('td:eq(3)').find('input').val();
                    if (!isNaN(total21) && total21.length != 0) {
                        sum21 += parseFloat(total21);
                    }
                    var totalvat21 = parseFloat(sum21 / 100 * 21 + sum21 - sum21);
                    $('#BTW21').text(totalvat21.toFixed(2));
                }

            })
        }


        SUMOFALLPRODUCT();
        sumofGrandModel();
    })

    function SUMOFALLPRODUCT() {
        var sum = 0;
        $('#orderdetailsitems tr').each(function () {
            var row = $(this).closest('tr');
            var total = row.find('td:eq(3)').find('.FTotal ').val();
            if (!isNaN(total) && total.length != 0) {
                sum += parseFloat(total);
            }
            $('#TotalBTW').text(sum.toFixed(2));
            $('#SubTotal').text(sum.toFixed(2));

        })
    }

    function sumofGrandModel() {

        var btw6 = 0, btw21, totalbtw = 0, grandtotal = 0;
        btw6 = parseFloat($('#BTW6').text());
        btw21 = parseFloat($('#BTW21').text());
        totalbtw = parseFloat($('#TotalBTW').text());
        btw6 = isNaN(btw6) ? 0 : btw6;
        btw21 = isNaN(btw21) ? 0 : btw21;
        totalbtw = isNaN(totalbtw) ? 0 : totalbtw;
        grandtotal = parseFloat(btw6) + parseFloat(btw21) + parseFloat(totalbtw);
        var t = parseFloat(grandtotal);
        $('#gtotal').text(t.toFixed(2));
        //
        //if (!isNaN(grandtotal) && grandtotal.length != 0) {
    }

    $(document).on('keyup', '#orderdetailsitems .rate', function () {

        var currentRow1 = $(this).closest("tr");
        var currentRow = $(this).closest("tr");
        var quantity = currentRow.find("td:eq(1)").find('input').val(); // get current row 1st TD value
        var Price = $(this).val();
        var total = quantity * Price;
        currentRow.find('td:eq(3)').find('input').val(total);
        var sum = 0;
        var vatValue = currentRow1.find('.VAT  option:selected').val();
        if (vatValue == 0) {
            $('#btwo').text('0.00');
        }
        if (vatValue == 6) {
            var sum6 = 0;
            var total6 = 0;
            $('#orderdetailsitems tr').each(function () {

                r = $(this).closest('tr');
                var value = r.find('.VAT  option:selected').val();
                if (r.find('.VAT  option:selected').val() == 6) {
                    total6 = r.find('td:eq(3)').find('input').val();
                    if (!isNaN(total6) && total6.length != 0) {
                        sum6 += parseInt(total6);
                    }
                    var totalvat6 = parseFloat(sum6 / 100 * 6 + sum6 - sum6);

                    $('#BTW6').text(totalvat6.toFixed(2));
                }
            })
        }


        if (vatValue == 21) {
            var sum21 = 0;
            var total21 = 0;
            $('#orderdetailsitems tr').each(function () {

                r = $(this).closest('tr');
                var value = r.find('.VAT  option:selected').val();
                if (r.find('.VAT  option:selected').val() == 21) {
                    total21 = r.find('td:eq(3)').find('input').val();
                    if (!isNaN(total21) && total21.length != 0) {
                        sum21 += parseInt(total21);
                    }
                    var totalvat21 = parseFloat(sum21 / 100 * 21 + sum21 - sum21);
                    $('#BTW21').text(totalvat21.toFixed(2));
                }
            })
        }


        SUMOFALLPRODUCT();
        sumofGrandModel();
        calculatevat();
    });

    var vatValue = 0;
    $(document).on('keyup', '#orderdetailsitems .quantity ', function () {

        var currentRow1 = $(this).closest("tr");
        var currentRow = $(this).closest("tr");
        var Price = currentRow.find("td:eq(2)").find('input').val(); // get current row 1st TD value
        var quantity = $(this).val();
        var total = quantity * Price;
        currentRow.find('td:eq(3)').find('input').val(total);
        var sum = 0;
        var vatValue = currentRow1.find('.VAT  option:selected').val();
        if (vatValue == 0) {
            $('#btwo').text('0.00');
        }
        if (vatValue == 6) {
            var sum6 = 0;
            var total6 = 0;
            $('#orderdetailsitems tr').each(function () {

                r = $(this).closest('tr');
                var value = r.find('.VAT  option:selected').val();
                if (r.find('.VAT  option:selected').val() == 6) {
                    total6 = r.find('td:eq(3)').find('input').val();
                    if (!isNaN(total6) && total6.length != 0) {
                        sum6 += parseInt(total6);
                    }
                    var totalvat6 = parseFloat(sum6 / 100 * 6 + sum6 - sum6);

                    $('#BTW6').text(totalvat6.toFixed(2));
                }
            })
        }


        if (vatValue == 21) {
            var sum21 = 0;
            var total21 = 0;
            $('#orderdetailsitems tr').each(function () {

                r = $(this).closest('tr');
                var value = r.find('.VAT  option:selected').val();
                if (r.find('.VAT  option:selected').val() == 21) {
                    total21 = r.find('td:eq(3)').find('input').val();
                    if (!isNaN(total21) && total21.length != 0) {
                        sum21 += parseInt(total21);
                    }
                    var totalvat21 = parseFloat(sum21 / 100 * 21 + sum21 - sum21);
                    $('#BTW21').text(totalvat21.toFixed(2));
                }
            })
        }


        SUMOFALLPRODUCT();
        sumofGrandModel();
        calculatevat();
    });

    $('#Quantity').keyup(function () {
        var currentRow = $(this).closest("tr");
        var quantity = $(this).val();  // get current row 1st TD value
        var Price = currentRow.find("td:eq(2)").find('input').val();
        var total = quantity * Price;
        currentRow.find('td:eq(3)').find('input').val(total);
    })


    $(document).ready(function () {
        $("#CompanyListTable").DataTable({
            // "processing": true, // for show progress bar
            processing: true,
            "language": {
                "processing": $('#loader').append("<img  src='../images/XtaS.gif' width='100px' height='60px' />"),  //add a loading image,simply putting tag.
            },
            "serverSide": true, // for process server side
            "filter": false, // this is for disable filter (search box)
            "orderMulti": false, // for disable multiple column at once

            searching: true,
            "ajax": {
                "url": "/Company/Index1",
                "type": "POST",
                "datatype": "json"
            },
            "columns": [
                    { "data": "CompanyId", "name": "CompanyId", "autoWidth": true },
                    { "data": "CompanyName", "name": "CompanyName", "autoWidth": true },
                    { "data": "CompanyAddress", "name": "CompanyAddress", "autoWidth": true },
                    { "data": "CompanyPhone", "name": "CompanyPhone", "autoWidth": true },
                    { "data": "CompanyCell", "name": "CompanyCell", "autoWidth": true },
                    { "data": "CompanyEmail", "name": "CompanyEmail", "autoWidth": true },
                    { "data": "CompanyTRN", "name": "CompanyTRN", "autoWidth": true },
                    {
                        'data': 'CompanyLogo',
                        render: function (logo) {
                            if (logo) {
                                return '<img height="25px" width="25px" src="' + logo + '" />'
                            }
                            else { return 'No Image'; }
                        }
                    },
                  {
                      render: function (data, type, row) {
                          return '<a href="#" class="btn btn-info btn-xs" data-id="Id" onclick="Edit(' + row.CompanyId + ')"><i class="glyphicon glyphicon-pencil "></i></a>|<a href="#" class="btn btn-danger btn-xs" onclick="DeleteCompany(' + row.CompanyId + ')"><i class="glyphicon glyphicon-trash"></i></a>|<a href="#" class="btn btn-success btn-xs" onclick="Delete(' + row.CompanyId + ')"><i class="glyphicon glyphicon-eye-open"></i></a>'
                      }
                  }

            ]
        });
    });



    //$(document).ready(function () {

    //    $("#ContactListTable").DataTable({
    //        //"processing": true, // for show progress bar
    //        processing: true,
    //        "language": {
    //            "processing": $('#loaderMvcConatc').append("<img  src='../images/XtaS.gif' width='100px' height='60px' />"),  //add a loading image,simply putting tag.
    //        },
    //        searching: true,
    //        "serverSide": true, // for process server side
    //        "filter": false, // this is for disable filter (search box)
    //        "orderMulti": false, // for disable multiple column at once
    //        "ajax": {
    //            "url": "/MVCContacts/GetContactList",
    //            "type": "POST",
    //            "datatype": "json"
    //        },
    //        "columns": [
    //                { "data": "ContactsId", "name": "ContactsId", "autoWidth": true },
    //                { "data": "ContactName", "name": "ContactName", "autoWidth": true },
    //                { "data": "ContactAddress", "name": "ContactAddress", "autoWidth": true },
    //                { "data": "Type", "name": "Type", "autoWidth": true },
    //                { "data": "BillingPersonName", "name": "BillingPersonName", "autoWidth": true },
    //                { "data": "BillingCompanyName", "name": "BillingCompanyName", "autoWidth": true },
    //                { "data": "BillingVatTRN", "name": "BillingVatTRN", "autoWidth": true },
    //                { "data": "Status", "name": "Status", "autoWidth": true },
    //                {
    //                    render: function (data, type, row) {
    //                        return '<a href="" class="btn btn-info btn-xs" data-id="Id" onclick="Edit(' + row.ContactsId + ')"><i class="glyphicon glyphicon-pencil "></i></a>|<a href="" class="btn btn-danger btn-sm" onclick="DeleteCompany(' + row.ContactsId + ')"><i class="glyphicon glyphicon-trash"></i></a>|<a href="" class="btn btn-success btn-xs" onclick="Delete(' + row.ContactsId + ')"><i class="glyphicon glyphicon-eye-open"></i></a>'
    //                    }
    //                }

    //               //{
    //               //    'data': 'CompanyLogo',
    //               //    render: function (logo) {
    //               //        if (logo) {
    //               //            return '<img height="25px" width="25px" src="' + logo + '" />'
    //               //        }
    //               //        else { return 'No Image'; }
    //               //    }
    //               //},
    //              //{
    //              //    render: function (data, type, row) {
    //              //        return '<a href="#" class="btn btn-info btn-xs" data-id="Id" onclick="Edit(' + row.CompanyId + ')"><i class="glyphicon glyphicon-pencil "></i></a>|<a href="#" class="btn btn-danger btn-xs" onclick="DeleteCompany(' + row.CompanyId + ')"><i class="glyphicon glyphicon-trash"></i></a>|<a href="#" class="btn btn-success btn-xs" onclick="Delete(' + row.CompanyId + ')"><i class="glyphicon glyphicon-eye-open"></i></a>'
    //              //    }
    //              //}

    //        ]
    //    });
    //});

    function Edit(companyId) {
        window.location.href = "Company/AddOrEdit/" + companyId;
    }



    $(document).ready(function () {
        $("#QutationListTable").DataTable({
            //"processing": true, // for show progress bar
            "processing": true,
            "language": {
                "processing": $('#loaderQuationList').append("<img  src='../images/XtaS.gif' width='100px' height='60px' />"),  //add a loading image,simply putting tag.
            },
            "searching": true,
            "serverSide": true, // for process server side
            "filter": false, // this is for disable filter (search box)
            "orderMulti": false, // for disable multiple column at once
            "ajax": {
                "url": "/MVCQutation/IndexQutation",
                "type": "POST",
                "datatype": "json"
            },
            "columns": [
                    { "data": "QutationID", "name": "QutationID", "autoWidth": true },// key for edit delete
                    { "data": "Qutation_ID", "name": "Qutation_ID", "autoWidth": true },
                    { "data": "RefNumber", "name": "RefNumber", "autoWidth": true },


                   {
                       "data": "QutationDate", "type": "date ",
                       "render": function (value) {
                           if (value === null) return "";
                           var pattern = /Date\(([^)]+)\)/;//date format from server side
                           var results = pattern.exec(value);
                           var dt = new Date(parseFloat(results[1]));

                           return dt.getDate() + "/" + (dt.getMonth() + 1) + "/" + dt.getFullYear();
                       }, "autoWidth": true
                   },


                    { "data": "DiscountAmount", "name": "DiscountAmount", "autoWidth": true },
                    { "data": "Status", "name": "Status", "autoWidth": true },

                    {
                        render: function (data, type, row) {
                            return '<a href="#" class="btn btn-info btn-sm" data-id="Id" onclick="EditQuatation(' + row.QutationID + ')"><i class="fa fa-pencil"></i></a>|<a href="#" class="btn btn-danger btn-sm" onclick="DeleteQutation(' + row.QutationID + ')"><i class="fa fa-trash"></i></a>|<a href="#" class="btn btn-success btn-sm" onclick="Delete(' + row.QutationID + ')"><i class="fa fa-eye"></i></a>'
                        }
                    }

            ]
        });


    });

    $(document).ready(function () {

        $("#productTable").DataTable({
            //"processing": true, // for show progress bar
            "processing": true,
            //"language": {
            //    "processing": $('#loaderQuationList').append("<img  src='../images/XtaS.gif' width='100px' height='60px' />"),  //add a loading image,simply putting tag.
            //},
            "searching": true,
            "serverSide": true, // for process server side
            "filter": false, // this is for disable filter (search box)
            "orderMulti": false, // for disable multiple column at once
            "ajax": {
                "url": "/MVCProduct/GetProductlist",
                "type": "POST",
                "datatype": "json"
            },
            "columns": [
                    { "data": "ProductId", "name": "ProductId", "autoWidth": true },// key for edit delete
                    { "data": "ProductName", "name": "ProductName", "autoWidth": true },
                    { "data": "Description", "name": "Description", "autoWidth": true },
                    { "data": "SalePrice", "name": "SalePrice", "autoWidth": true },
                    { "data": "PurchasePrice", "name": "PurchasePrice", "autoWidth": true },
                     { "data": "Type", "name": "Type", "autoWidth": true },
                     { "data": "OpeningQuantity", "name": "OpeningQuantity", "autoWidth": true },

                   {
                       "data": "AddedDate", "type": "date ",
                       "render": function (value) {
                           if (value === null) return "";
                           var pattern = /Date\(([^)]+)\)/;//date format from server side
                           var results = pattern.exec(value);
                           var dt = new Date(parseFloat(results[1]));

                           return dt.getDate() + "/" + (dt.getMonth() + 1) + "/" + dt.getFullYear();
                       }, "autoWidth": true
                   },



                    {
                        render: function (data, type, row) {
                            return '<a href="#" class="btn btn-info btn-xs" data-id="Id" onclick="EditProduct(' + row.ProductId + ')"><i class="fa fa-pencil"></i></a>|<button type="button" href="" class="btn btn-danger btn-xs" onclick="DeleteProduct(' + row.ProductId + ')"><i class="fa fa-trash"></i></button>|<a href="" class="btn btn-success btn-xs" onclick="Delete(' + row.ProductId + ')"><i class="fa fa-eye"></i></a>'
                        }
                    }



            ]
        });

    })





    $(document).ready(function () {
        @*product Script*@

        $('#CreateNewProduct').click(function () {
            $('#UpdateProduct').hide();
            $('#SaveNewProduct').show();
            $('#CreateNewProductModal').modal('show');
        });

        $('#SaveNewProduct').click(function () {
            $.ajax({
                url: '/MVCProduct/AddOrEdit',
                type: 'POST',
                data: {
                    ProductName: $('#ProductName').val(),
                    Description: $('#Description').val(),
                    SalePrice: $('#SalePrice').val(),
                    PurchasePrice: $('#PurchasePrice').val(),
                    Type: $('#Type').val(),
                    OpeningQuantity: $('#OpeningQuantity').val()

                },
                success: function (data) {
                    $('#CreateNewProductModal').modal('hide');
                    //$("#productTable").ajax.reload();
                    SuccessInsert();
                },
                error: function () {
                    alert("error");
                }
            });

        });

        $('#SaveNewProductModel').click(function () {
            $.ajax({
                url: '/MVCProduct/AddOrEdit',
                type: 'POST',
                data: {
                    ProductName: $('#ProductName').val(),
                    Description: $('#Description').val(),
                    SalePrice: $('#SalePrice').val(),
                    PurchasePrice: $('#PurchasePrice').val(),
                    Type: $('#Type').val(),
                    OpeningQuantity: $('#OpeningQuantity').val()

                },
                success: function (data) {
                    $('#CreateNewProductModalAdd').modal('hide');
                    LoadProductAdding();
                    $.toast({
                        heading: 'Success',
                        text: 'Your opration has been successfuly completed `loader`',
                        icon: 'info',
                        loader: true,        // Change it to false to disable loader
                        loaderBg: '#9EC600'  // To change the background
                    });

                    //$("#productTable").ajax.reload();
                    //SuccessInsert();
                },
                error: function () {
                    alert("error");
                }
            });
        });

        $('#UpdateProduct').click(function () {

            $.ajax({
                url: '/MVCProduct/AddOrEdit',
                type: 'POST',
                data: {
                    ProductId: $('#ProductId').val(),
                    ProductName: $('#ProductName').val(),
                    Description: $('#Description').val(),
                    SalePrice: $('#SalePrice').val(),
                    PurchasePrice: $('#PurchasePrice').val(),
                    Type: $('#Type').val(),
                    OpeningQuantity: $('#OpeningQuantity').val()

                },
                success: function (data) {
                    $('#CreateNewProductModal').modal('hide');
                    //$("#productTable").ajax.reload();
                    SuccessUpdate();
                    clearProductTextBox();
                },
                error: function () {
                    alert("error");
                }
            });
        });

        $('#CancelProduct').click(function () {
            clearProductTextBox();
        });

        $('#CreateNewContacts').click(function () {
            $('#UpdateContacts').hide();
            $('#SaveNewContacts').show();
            $('#CreateNewContactModal').modal('show');
        });

        @*Contact or client Script*@

        $('#SaveNewContacts').click(function () {
            var res = validateContact();
            if (res == false) {
                return false;
            }
            else {
                $.ajax({
                    url: '/MVCClient/AddOrEdit',
                    type: 'POST',
                    data: {
                        ContactName: $('#ContactName').val(),
                        ContactAddress: $('#ContactAddress').val(),
                        Type: $('#TypeContacts').val(),
                        BillingPersonName: $('#BillingPersonName').val(),
                        BillingCompanyName: $('#BillingCompanyName').val(),
                        BillingAddress: $('#BillingAddress').val(),
                        BillingCity: $('#BillingCity').val(),
                        BillingCountry: $('#BillingCountry').val(),
                        BillingZibCode: $('#BillingZibCode').val(),
                        BillingEmail: $('#BillingEmail').val(),
                        BillingVatTRN: $('#BillingVatTRN').val(),
                        BillingPhone: $('#BillingPhone').val(),
                        BillingMobile: $('#BillingMobile').val(),
                        BillingFax: $('#BillingFax').val(),
                        ShippingPersonName: $('#ShippingPersonName').val(),
                        ShippingCompanyName: $('#ShippingCompanyName').val(),
                        ShippingCountry: $('#ShippingCountry').val(),
                        ShippingZIP: $('#ShippingZIP').val(),
                        ShippingEmail: $('#ShippingEmail').val(),
                        ShippingVatTRN: $('#ShippingVatTRN').val(),
                        ShippingMobile: $('#ShippingMobile').val(),
                        ShippingPhone: $('#ShippingPhone').val(),
                        ShippingFax: $('#ShippingFax').val(),
                        Remarks: $('#Remarks').val(),
                        Status: $('#Status').val()

                    },
                    success: function (response) {
                        if (response == '201') {
                            $('#CreateNewContactModal').modal('hide');
                            //$("#productTable").ajax.reload();
                            clearContectTextBox();
                            SuccessInsert();
                        }
                        else {
                            alert(response);
                        }
                    },
                    error: function () {
                        alert("error");
                    }
                });
            }

        });

        $('#UpdateContacts').click(function () {
            var res = validateContact();
            if (res == false) {
                return false;
            }
            else {

                $.ajax({
                    url: '/MVCClient/AddOrEdit',
                    type: 'POST',
                    data: {
                        ContactsId: $('#ContactsId').val(),
                        ContactName: $('#ContactName').val(),
                        ContactAddress: $('#ContactAddress').val(),
                        Type: $('#TypeContacts').val(),
                        BillingPersonName: $('#BillingPersonName').val(),
                        BillingCompanyName: $('#BillingCompanyName').val(),
                        BillingAddress: $('#BillingAddress').val(),
                        BillingCity: $('#BillingCity').val(),
                        BillingCountry: $('#BillingCountry').val(),
                        BillingZibCode: $('#BillingZibCode').val(),
                        BillingEmail: $('#BillingEmail').val(),
                        BillingVatTRN: $('#BillingVatTRN').val(),
                        BillingPhone: $('#BillingPhone').val(),
                        BillingMobile: $('#BillingMobile').val(),
                        BillingFax: $('#BillingFax').val(),
                        ShippingPersonName: $('#ShippingPersonName').val(),
                        ShippingCompanyName: $('#ShippingCompanyName').val(),
                        ShippingCountry: $('#ShippingCountry').val(),
                        ShippingZIP: $('#ShippingZIP').val(),
                        ShippingEmail: $('#ShippingEmail').val(),
                        ShippingVatTRN: $('#ShippingVatTRN').val(),
                        ShippingMobile: $('#ShippingMobile').val(),
                        ShippingPhone: $('#ShippingPhone').val(),
                        ShippingFax: $('#ShippingFax').val(),
                        Remarks: $('#Remarks').val(),
                        Status: $('#Status').val()
                    },
                    success: function (data) {
                        $('#CreateNewContactModal').modal('hide');
                        //$("#productTable").ajax.reload();
                        SuccessUpdate();
                        clearContectTextBox();
                    },
                    error: function () {
                        alert("error");
                    }
                });
            }
        });

        $('#Logout').click(function () {
            debugger;
            $.ajax({
                url: "/Login/Logut",
                type: "POST",
                dataType: "json",
                success: function (resultData) {
                    sessionStorage.removeItem('accessToken');
                    window.location.href = "/Login/Index";
                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                }
            });

        });

    });


    function validateQutationAddOrEdit() {
        debugger;

        var isValid = true;

        if ($('#Qutation_ID').val().trim() == "") {
            $('#Qutation_ID').css('border-color', 'Red');
            isValid = false;
        }
        else {
            $('#Qutation_ID').css('border-color', 'lightgrey');
        }
        if ($('#DueDate').val().trim() == "") {
            $('#DueDate').css('border-color', 'Red');
            isValid = false;
        }
        else {
            $('#DueDate').css('border-color', 'lightgrey');
        }
        if ($('#RefNumber').val().trim() == "") {
            $('#RefNumber').css('border-color', 'Red');
            isValid = false;
        }
        else {
            $('#RefNumber').css('border-color', 'lightgrey');
        }
        if ($('#QutationDate').val() == "") {
            $('#QutationDate').css('border-color', 'Red');
            isValid = false;
        }
        else {
            $('#QutationDate').css('border-color', 'lightgrey');
        }

        if ($('#QutationDate1').val() == "") {
            $('#QutationDate1').css('border-color', 'Red');
            isValid = false;
        }
        else {
            $('#QutationDate1').css('border-color', 'lightgrey');
        }
        return isValid;
    }


    function EditProduct(ProductId) {
        //$('#ProductName').css('border-color', 'lightgrey');
        //$('#Description').css('border-color', 'lightgrey');
        //$('#PurchasePrice').css('border-color', 'lightgrey');
        //$('#SalePrice').css('border-color', 'lightgrey');
        $.ajax({
            url: "/MVCProduct/AddOrEdit/" + ProductId,
            type: "GET",
            dataType: "json",
            success: function (resultData) {
                $('#ProductId').val(resultData.ProductId);
                $('#ProductName').val(resultData.ProductName);
                $('#Description').val(resultData.Description);
                $('#SalePrice').val(resultData.SalePrice);
                $('#PurchasePrice').val(resultData.PurchasePrice);
                $('#Type').val(resultData.type);
                $('#OpeningQuantity').val(resultData.OpeningQuantity);

                $('#CreateNewProductModal').modal('show');
                $('#UpdateProduct').show();
                $('#SaveNewProduct').hide();
            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });
    }

    function EditContact(ContactsId) {
        $.ajax({
            url: "/MVCClient/AddOrEdit/" + ContactsId,
            type: "GET",
            dataType: "json",
            success: function (resultContactData) {

                $('#ContactsId').val(resultContactData.ContactsId);
                $('#ContactName').val(resultContactData.ContactName);
                $('#ContactAddress').val(resultContactData.ContactAddress);
                $('select#TypeContacts option').each(function () {
                    if ($(this).text().toLowerCase() == resultContactData.Type.toLowerCase()) {
                        this.selected = true;
                        return;
                    }
                });
                if (resultContactData.Status == true) {
                    $('#Status').val("1");
                }
                else {
                    $('#Status').val("0");
                }

                $('#BillingPersonName').val(resultContactData.BillingPersonName);
                $('#BillingCompanyName').val(resultContactData.BillingCompanyName);
                $('#BillingAddress').val(resultContactData.BillingAddress);
                $('#BillingCity').val(resultContactData.BillingCity);
                $('#BillingState').val(resultContactData.BillingState);
                $('#BillingCountry').val(resultContactData.BillingCountry);
                $('#BillingZibCode').val(resultContactData.BillingZibCode);
                $('#BillingEmail').val(resultContactData.BillingEmail);
                $('#BillingVatTRN').val(resultContactData.BillingVatTRN);
                $('#BillingPhone').val(resultContactData.BillingPhone);
                $('#BillingMobile').val(resultContactData.BillingMobile);
                $('#BillingFax').val(resultContactData.BillingFax);
                $('#ShippingPersonName').val(resultContactData.ShippingPersonName);
                $('#ShippingAddress').val(resultContactData.ShippingAddress);
                $('#ShippingCompanyName').val(resultContactData.ShippingCompanyName);
                $('#ShippingCity').val(resultContactData.ShippingCity);
                $('#ShippingState').val(resultContactData.ShippingState);
                $('#ShippingCountry').val(resultContactData.ShippingCountry);
                $('#ShippingZIP').val(resultContactData.ShippingZIP);
                $('#ShippingEmail').val(resultContactData.ShippingEmail);
                $('#ShippingVatTRN').val(resultContactData.ShippingVatTRN);
                $('#ShippingMobile').val(resultContactData.ShippingMobile);
                $('#ShippingPhone').val(resultContactData.ShippingPhone);
                $('#ShippingFax').val(resultContactData.ShippingFax);
                $('#Remarks').val(resultContactData.Remarks);
                $('#UpdateContacts').show();
                $('#SaveNewContacts').hide();
                $('#CreateNewContactModal').modal('show');
            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });
    }

    function DeleteProduct(ProductId) {

        swal({
            title: "Are you sure?",
            text: "You will not be able to recover this data with Id! " + ProductId,
            type: "warning",
            showCancelButton: true,
            confirmButtonColor: '#DD6B55',
            confirmButtonText: 'Yes, I am sure!',
            cancelButtonText: "No, cancel it!",
            closeOnConfirm: false,
            closeOnCancel: false
        },
        function (isConfirm) {

            if (isConfirm) {

                $.ajax({
                    url: "/MVCProduct/Delete/" + ProductId,
                    typr: "GET",
                    dataType: "json",
                    success: function (resultData) {
                        swal("Deleted Success!", "Product deleted successfully!", "success");
                    },
                    error: function (errormessage) {
                        alert(errormessage.responseText);
                    }
                });

            }
            else {
                swal(" Deleted Cancelled", "Your data is safe :)", "error");
            }
        });

    }

    function SuccessInsert() {
        swal({
            title: "Congratulations!!!!",
            text: "Your data has been saved successfully",
            type: "success",

        });
    }

    function SuccessUpdate() {
        swal({
            title: "Congratulations!!!!",
            text: "Your data has been updated successfully",
            type: "success",

        });
    }

    function clearProductTextBox() {
        $('#ProductId').val("");
        $('#ProductName').val("");
        $('#Description').val("");
        $('#SalePrice').val("");
        $('#PurchasePrice').val("");
        $('#Type').val("");
        $('#OpeningQuantity').val("");
        $('#UpdateProduct').hide();
        $('#SaveNewProduct').show();
        //$('#Name').css('border-color', 'lightgrey');
        //$('#Age').css('border-color', 'lightgrey');
        //$('#State').css('border-color', 'lightgrey');
        //$('#Country').css('border-color', 'lightgrey');
    }

    function LoadContacts() {

        $("#SelectContacts1").find("option").remove();

        $("#SelectContacts1").prepend("<option value=0>" + 'Select Client' + "</option>");
        $("#SelectContacts1").append("<option value=AddNewClientSelect>" + 'Add New Client' + "</option>");

        $.ajax({
            url: "/MVCClient/GetContacts",
            type: "Get",
            async: false,
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (data) {

                $.each(data, function (key, item) {

                    $('#SelectContacts1').append($('<option></option>').val(item.ContactsId).html(item.ContactName));

                });

            },
            Error: function (errormessage) {
                alert(errormessage);
            }

        });
    }

    function clearContectTextBox() {
        $('#ContactsId').val("");
        $('#ContactName').val("");
        $('#ContactAddress').val("");
        $('#Type').val("");
        $('#BillingPersonName').val("");
        $('#BillingCompanyName').val("");
        $('#BillingAddress').val("");

        $('#BillingCity').val("");
        $('#BillingState').val("");
        $('#BillingCountry').val("");
        $('#BillingZibCode').val("");
        $('#BillingEmail').val("");
        $('#BillingVatTRN').val("");
        $('#BillingPhone').val("");


        $('#BillingMobile').val("");
        $('#BillingFax').val("");
        $('#ShippingPersonName').val("");
        $('#ShippingAddress').val("");
        $('#ShippingCompanyName').val("");
        $('#ShippingCity').val("");
        $('#ShippingState').val("");

        $('#ShippingCountry').val("");
        $('#ShippingZIP').val("");
        $('#ShippingEmail').val("");
        $('#ShippingVatTRN').val("");
        $('#ShippingMobile').val("");
        $('#ShippingPhone').val("");
        $('#ShippingFax').val("");

        $('#Remarks').val("");


        $('#UpdateContacts').hide();
        $('#SaveNewContacts').show();
        //$('#Name').css('border-color', 'lightgrey');
        //$('#Age').css('border-color', 'lightgrey');
        //$('#State').css('border-color', 'lightgrey');
        //$('#Country').css('border-color', 'lightgrey');
    }

    function validateContact() {
        var isValid = true;
        if ($('#ContactName').val().trim() == "") {
            $('#ContactName').css('border-color', 'Red');
            isValid = false;
        }
        else {
            $('#ContactName').css('border-color', 'lightgrey');
        }
        if ($('#ContactAddress').val().trim() == "") {
            $('#ContactAddress').css('border-color', 'Red');
            isValid = false;
        }
        else {
            $('#ContactAddress').css('border-color', 'lightgrey');
        }
        if ($('#BillingPersonName').val().trim() == "") {
            $('#BillingPersonName').css('border-color', 'Red');
            isValid = false;
        }
        else {
            $('#BillingPersonName').css('border-color', 'lightgrey');
        }
        return isValid;
    }

    function EditQuatation(id) {
        debugger;
        $.ajax({
            url: '/MVCClient/AddOrEditQutation',
            type: 'GET',
            data: {
                Qutationid: id
            },
            success: function (data) {

                window.location.href = "/MVCQutation/AddOrEdit/" + id;
            }
        });

    }

   // var $loading = $('.preloader').hide();

    //$(document)
    //  .ajaxStart(function () {
    //      $loading.show();
    //  })
    //  .ajaxStop(function () {
    //      $loading.hide();
    //  });


    $(document).ready(function () {

        $('#btn-InvoiceNew').click(function () {
            LoadVernder();
            $('#VenderSelectModel').modal('show');
        });

        $('#venderSelect').change(function () {

            var value = $(this).val();
            if (value == "AddNewVenderSelect") {

                $('#VenderSelectModel').modal('hide');
                $('#AddNewVenderModel').modal('show');

            }

        });



        $('#VenderClientNext').click(function () {

            var value = $('#venderSelect').val();

            if (value > 0) {
                $.ajax({
                    url: '/MVCClient/AddOrEdit',
                    type: 'GET',
                    data: {
                        id: value
                    },
                    success: function (data) {
                        window.location.href = "/Purchase/AddOrEdit"
                    },
                    error: function () {
                        alert("error");
                    }
                });
            }
            else {
                $.toast({
                    heading: 'Information',
                    text: 'Please select client to continue',
                    icon: 'info',
                    loader: true,        // Change it to false to disable loader
                    loaderBg: '#9EC600'  // To change the background
                })
            }
        });

        $('#SaveVender').click(function () {
            $.ajax({
                url: '/MVCClient/AddOrEdit',
                type: 'POST',
                data: {
                    ContactName: $('#VenderName').val(),
                    Type: "Vender",
                    ContactAddress: $('#VenderAddress').val()
                },
                success: function (data) {
                    $('#AddNewVenderModel').modal('hide');
                    LoadVernder();
                    $('#VenderSelectModel').modal('show');
                },
                error: function () {
                    alert("error");
                }
            });

        });
    });



    function LoadVernder() {
        $("#venderSelect").find("option").remove();
        $("#venderSelect").prepend("<option value=0>" + 'Select Vender' + "</option>");
        $("#venderSelect").append("<option value=AddNewVenderSelect>" + 'Add New Vender' + "</option>");

        $.ajax({
            url: "/Purchase/GetVender",
            type: "Get",
            async: false,
            contentType: "application/json;charset=utf-8",
            dataType: "json",
            success: function (data) {
                $.each(data, function (key, item) {
                    $('#venderSelect').append($('<option></option>').val(item.ContactsId).html(item.ContactName));

                });

            },
            Error: function (errormessage) {
                alert(errormessage);
            }

        });
    }



    $(document).ready(function () {

        $("#PurchaseDetailTable").DataTable({
            //"processing": true, // for show progress bar
            "processing": true,
            "language": {
                "processing": $('#loaderQuationList').append("<img src='../images/XtaS.gif' width='100px' height='60px' />"),  //add a loading image,simply putting tag.
            },
            "searching": true,
            "serverSide": true, // for process server side
            "filter": false, // this is for disable filter (search box)
            "orderMulti": false, // for disable multiple column at once
            "ajax": {
                "url": "/Purchase/GetPurchaseList",
                "type": "POST",
                "datatype": "json"
            },
            "columns": [
                   { "data": "PurchaseOrderID", "name": "PurchaseOrderID", "autoWidth": true },// key for edit delete
                     {
                         "data": "PurchaseDate", "type": "date ",
                         "render": function (value) {
                             if (value === null) return "";
                             var pattern = /Date\(([^)]+)\)/;//date format from server side
                             var results = pattern.exec(value);
                             var dt = new Date(parseFloat(results[1]));

                             return dt.getDate() + "/" + (dt.getMonth() + 1) + "/" + dt.getFullYear();
                         }, "autoWidth": true
                     },
                    {
                        "data": "PurchaseDueDate", "type": "date ",
                        "render": function (value) {
                            if (value === null) return "";
                            var pattern = /Date\(([^)]+)\)/;//date format from server side
                            var results = pattern.exec(value);
                            var dt = new Date(parseFloat(results[1]));

                            return dt.getDate() + "/" + (dt.getMonth() + 1) + "/" + dt.getFullYear();
                        }, "autoWidth": true
                    },

                   { "data": "PurchaseRefNumber", "name": "PurchaseRefNumber", "autoWidth": true },

                 { "data": "PurchaseSubTotal", "name": "PurchaseSubTotal", "autoWidth": true },
                   { "data": "PurchaseTotoalAmount", "name": "PurchaseTotoalAmount", "autoWidth": true },

                    { "data": "Status", "name": "Status", "autoWidth": true },

                   {
                       render: function (data, type, row) {
                           return '<a href="" class="btn btn-info btn-sm" data-id="Id" onclick="EditPurchase(' + row.PurchaseOrderID + ')"><i class="fa fa-pencil"></i></a>|<a href="#" class="btn btn-danger btn-sm" onclick="DeleteQutation(' + row.PurchaseOrderID + ')"><i class="fa fa-trash"></i></a>|<a href="#" class="btn btn-success btn-sm" onclick="Delete(' + row.PurchaseOrderID + ')"><i class="fa fa-eye"></i></a>'
                       }
                   }

            ]
        });


    });

    function EditPurchase(PurchaseId) {


        debugger;
        $.ajax({
            url: '/MVCClient/AddOrEditQutation',
            type: 'GET',
            data: {
                Qutationid: PurchaseId
            },
            success: function (data) {

                window.location.href = "/Purchase/AddOrEdit/" + id;
            }
        });


    }



    $(document).ready(function () {
        var patth = localStorage.getItem('path');
        $("#FilePath").val(patth);

        if ($('input#FilePath').val() == "") {

        }
        else {
            $('#DownloadFile1').submit();
            $("#FilePath").val('');
            localStorage.removeItem('path');
        }
    })



    $('.pClass').change(function () {
        var productId = $(this).val();
        { }
        $.ajax({
            url: "/MVCQutation/ProductPricebyId",
            type: "POST",

            cache: false,
            data: { 'ProductId': productId },
            success: function (resultData) {
                $('#Rate').val(resultData);
            },
            error: function (errormessage) {
                alert(errormessage)
            }
        });
    })


    function GetProductPriceById(ProductId) {
        debugger;

    }




    /// numver validatio for input 



    $(".quantity ").on("keypress keyup blur", function (event) {
        //this.value = this.value.replace(/[^0-9\.]/g,'');
        $(this).val($(this).val().replace(/[^0-9]/g, ''));
        if ((event.which != 46 || $(this).val().indexOf('.') != -1) && (event.which < 48 || event.which > 57)) {
            event.preventDefault();
        }
    });

    $("#Rate").on("keypress keyup blur", function (event) {
        //this.value = this.value.replace(/[^0-9\.]/g,'');
        $(this).val($(this).val().replace(/[^0-9\.]/g, ''));
        if ((event.which != 46 || $(this).val().indexOf('.') != -1) && (event.which < 48 || event.which > 57)) {
            event.preventDefault();
        }
    });

    

</script>